#!/usr/bin/env bash

set -euo pipefail

KEEP="${@}"
PATTERN="^${KEEP// /\\|^}"

echo "deleting files whose paths do not match '$PATTERN'"

git ls-files | grep --invert-match "${PATTERN}" | tr '\n' '\000' | xargs -0 rm
